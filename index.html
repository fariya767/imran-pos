<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¶á‡¶Æ‡¶∞‡¶æ‡¶® ‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶®‡¶ø‡¶ï‡ßç‡¶∏ POS</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body { background:#f4f6f9; }
.header { background:#0d6efd; color:white; padding:15px; border-radius:10px; }
.summary-box { padding:10px; border-radius:8px; color:white; text-align:center; margin-bottom:10px; }
.sale-box { background:#198754; }
.profit-box { background:#6f42c1; }
.footer { font-size:12px; color:gray; text-align:center; margin-top:20px; }
.card-box { background:white; padding:15px; border-radius:10px; margin-top:15px; }
.hidden { display:none; }
</style>
</head>

<body>

<div class="container py-4">

<!-- Login Section -->
<div id="loginSection" class="card-box shadow-sm">
<h4 class="text-center">üîê POS ‡¶≤‡¶ó‡¶á‡¶®</h4>
<input type="password" id="passwordInput" class="form-control mt-3" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
<button class="btn btn-primary w-100 mt-3" onclick="login()">‡¶≤‡¶ó‡¶á‡¶®</button>
<p class="text-center mt-3" id="loginMessage"></p>
</div>

<!-- Main POS -->
<div id="mainApp" class="hidden">

<div class="header text-center mb-3">
<h4>‡¶á‡¶Æ‡¶∞‡¶æ‡¶® ‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶®‡¶ø‡¶ï‡ßç‡¶∏ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶° ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‡¶ø‡¶Ç ‡¶∏‡ßá‡¶®‡ßç‡¶ü‡¶æ‡¶∞</h4>
<button class="btn btn-light btn-sm float-end" onclick="logout()">‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</button>
</div>

<div class="summary-box sale-box">
‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü: <span id="grandTotal">0</span> ‡ß≥
</div>

<div class="summary-box profit-box">
‡¶Æ‡ßã‡¶ü ‡¶≤‡¶æ‡¶≠: <span id="grandProfit">0</span> ‡ß≥
</div>

<div class="card-box shadow-sm">
<h5>üìä ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</h5>
<canvas id="salesChart"></canvas>
</div>

<div class="footer">
¬© 2026 Imran Electronics POS System
</div>

</div>

</div>

<script>

let sales = JSON.parse(localStorage.getItem("sales")) || [];

function login(){
let input = passwordInput.value;
let savedPass = localStorage.getItem("posPassword");

if(!savedPass){
localStorage.setItem("posPassword", input);
loginMessage.innerText="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßá‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®";
return;
}

if(input === savedPass){
loginSection.classList.add("hidden");
mainApp.classList.remove("hidden");
updateSummary();
updateChart();
}else{
loginMessage.innerText="‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°!";
}
}

function logout(){
mainApp.classList.add("hidden");
loginSection.classList.remove("hidden");
passwordInput.value="";
}

function updateSummary(){
let totalSum=0, profitSum=0;
sales.forEach(item=>{
totalSum+=item.total;
profitSum+=item.profit;
});
grandTotal.innerText=totalSum;
grandProfit.innerText=profitSum;
}

function updateChart(){
let dates={};
sales.forEach(item=>{
if(!dates[item.date]) dates[item.date]=0;
dates[item.date]+=item.total;
});

let labels=Object.keys(dates);
let data=Object.values(dates);

new Chart(document.getElementById("salesChart"),{
type:"bar",
data:{
labels:labels,
datasets:[{
label:"Daily Sales ‡ß≥",
data:data
}]
}
});
}

</script>

</body>
</html>
